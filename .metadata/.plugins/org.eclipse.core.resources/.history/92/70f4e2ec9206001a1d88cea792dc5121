package java_coading_challenege;

import java.util.Scanner;
class leak{
    public static void main(String [] args){
    	Scanner sc=new Scanner(System.in );
        System.out.println("enter the bucket size");
        int n=sc.nextInt();
        System.out.println("enter the flow rate");
        int r=sc.nextInt();
        System.out.println("enter the time interval");
        int ti=sc.nextInt();
        int []pktrcv=new int [100];
        int time=0;
        int []pktdrop=new int [100];
        int []pktleft=new int [100];

        int []pktsent =new int [100];

        for (int i=0;i<ti;i++){
            System.out.println("time"+(time=time+1));
            pktrcv[i]=sc.nextInt();
        }
        for (int i=0;i<ti;i++){
            if (pktrcv[i]>r){
                pktsent[i]=pktrcv[i];
            }
            else if(pktrcv[i]+pktleft[i]>r){
                pktsent[i]=r;
            }
            else if(pktrcv[i]+pktleft[i]<r){
                pktsent[i]=pktrcv[i]+pktleft[i];
            }
            else{
                
                    pktsent[i]=r;
        }
    }


            pktleft[0]=pktrcv[0]+pktleft[0];
            for (int i=0;i<ti;i++){
                pktleft[i]=pktleft[i-1]+pktrcv[i]-pktleft[0];
                if(pktleft[i]>n)
			{	
				pktdrop[i]=pktleft[i]-n;
				pktleft[i]=n;
				
			}

            

            }
            for(int i=0;i<ti;i++)
		{
			System.out.print((i+1)+" \t \t "+pktrcv[i]+" \t \t"+pktsent[i]+" \t \t"+pktleft[i]+" \t \t"+pktdrop[i]+"\t \t");
			System.out.println();

		}
        }

    }

